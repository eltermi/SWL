{% extends "base.html" %}

{% block title %}Clientes - Sitters with Love{% endblock %}

{% block content %}

<h2 id="cabecera" class="day-header">Clientes</h2>
<input type="text" id="buscar" class="buscar" placeholder="Buscar clientes">
<div id="lista-clientes"></div>
<div id="muestra-cliente"></div>

<div id="form-crea-cliente"> 
    <h2 style="text-align:center">AÑADIR CLIENTE</h2>
    <form id="cliente-form" class="form-columns">
        <div class="form-column">
            <input type="text" id="nombre" placeholder="Nombre" required>
            <input type="text" id="apellidos" placeholder="Apellidos">
            <input type="text" id="calle" placeholder="Calle" required>
            <input type="text" id="piso" placeholder="Piso">
            <input type="text" id="codigo_postal" placeholder="Código Postal" required>
            <input type="text" id="municipio" placeholder="Municipio / Barrio" required>
            <input type="text" id="pais" placeholder="País">
        </div>
        <div class="form-column">
            <input type="text" id="telefono" placeholder="Teléfono +352 661 222 222" required>
            <input type="email" id="email" placeholder="Correo Electrónico">
            <input type="text" id="nacionalidad" placeholder="País de origen">
            <input type="text" id="idioma" placeholder="Idioma">
            <input type="text" id="genero" placeholder="Género M/F">
            <input type="text" id="referencia_origen" placeholder="Referencia">
        </div>
        <div class="form-button">
            <button type="submit">Añadir Cliente</button>
        </div>
    </form>
</div>

<div id="contrato-modal" class="modal" aria-hidden="true">
    <div class="modal-backdrop" data-close-modal></div>
    <div class="modal-dialog" role="dialog" aria-modal="true" aria-labelledby="contrato-modal-title">
        <button type="button" class="modal-close" aria-label="Cerrar" data-close-modal>&times;</button>
        <h3 id="contrato-modal-title" class="modal-title">Nuevo contrato</h3>
        <p class="modal-subtitle" id="numero_factura_resumen">Número de factura: Se asignará al guardar</p>
        <p id="contrato-modal-cliente" class="modal-subtitle" hidden></p>
        <div id="form-contrato-error" class="modal-error" role="alert" aria-live="assertive" hidden></div>
        <form id="form-contrato" class="modal-form" novalidate>
            <div class="modal-field">
                <label for="fecha_inicio">Fecha de inicio <span class="required">*</span></label>
                <input type="date" id="fecha_inicio" required>
            </div>
            <div class="modal-field">
                <label for="fecha_fin">Fecha de fin <span class="required">*</span></label>
                <input type="date" id="fecha_fin" required>
            </div>
            <div class="modal-field">
                <label for="numero_visitas_diarias">Número de visitas diarias <span class="required">*</span></label>
                <input type="number" id="numero_visitas_diarias" min="0" step="1" placeholder="Ej: 2" required>
            </div>
            <div class="modal-field">
                <label for="numero_visitas_totales">Número de visitas totales</label>
                <input type="number" id="numero_visitas_totales" min="0" placeholder="0">
                <p class="modal-helper" id="numero_dias_resumen">Días calculados: 0</p>
            </div>
            <div class="modal-field">
                <label for="tarifa_contrato">Tarifa del contrato <span class="required">*</span></label>
                <select id="tarifa_contrato" required>
                    <option value="" disabled selected>Cargando tarifas...</option>
                </select>
            </div>
            <div class="modal-field modal-field-inline">
                <div>
                    <label for="hora_manana">Hora mañana</label>
                    <input type="time" id="hora_manana">
                </div>
                <div>
                    <label for="hora_tarde">Hora tarde</label>
                    <input type="time" id="hora_tarde">
                </div>
            </div>
            <div class="modal-field">
                <label for="total_contrato">Total contrato (€)</label>
                <input type="number" id="total_contrato" min="0" step="0.01" value="0">
                <p class="modal-helper" id="mitad_total_resumen">50% del total: 0,00 €</p>
            </div>
            <div class="modal-field">
                <label for="pagado">Pagado (€) <span class="required">*</span></label>
                <input type="number" id="pagado" min="0" step="0.01" value="0" required>
            </div>
            <div class="modal-field">
                <label for="observaciones">Observaciones</label>
                <textarea id="observaciones" rows="3" placeholder="Notas importantes"></textarea>
            </div>
            <div class="modal-actions">
                <button type="button" class="btn-secundario" data-close-modal>Cancelar</button>
                <button type="submit" class="btn-principal">Guardar contrato</button>
            </div>
        </form>
    </div>
</div>

<script src="{{ url_for('static', filename='js/clientes.js') }}"></script>

{% endblock %}
